# 🎯 새로운 DQN 시스템 사용법

## ✨ 완전 교체 완료!

기존 복잡한 시스템이 새로운 단순한 DQN 시스템으로 완전 교체되었습니다.

## 📋 시스템 구조

```
프로젝트/
├── main_window.py              # ✨ 메인 UI (DQN 연동)
├── canvas_widget.py            # ✨ 캔버스 (데이터 수집 연동)
├── process2_training.py        # ✨ 단순한 학습 UI
├── run_process2.py            # ✨ 학습 도구 실행
└── src/learning/              # ✨ DQN 모듈들
    ├── __init__.py
    ├── dqn_data_collector.py   # 데이터 수집기
    ├── dqn_trainer.py          # 학습기
    ├── dqn_predictor.py        # 예측기
    └── models/                 # 학습된 모델 저장
```

## 🚀 사용법

### 1️⃣ 데이터 수집
```bash
python main_window.py
```
1. 파일 선택
2. DQN 메뉴 → "데이터 수집 시작"
3. 포인트 편집 (클릭으로 추가/제거)
4. 편집할 때마다 자동으로 학습 데이터 수집
5. "데이터 수집 종료"로 세션 저장

### 2️⃣ 모델 학습
```bash
python run_process2.py
```
또는 메인 프로그램에서:
- DQN 메뉴 → "모델 학습 시작"

### 3️⃣ AI 예측 사용
메인 프로그램에서:
- DQN 메뉴 → "AI 포인트 예측"

## 🔄 기존 대비 변화

### ✅ 개선점
- **단순함**: 복잡한 설정 제거, 직관적 UI
- **자동화**: 편집시 자동 데이터 수집
- **안정성**: 복잡한 최적화 코드 제거
- **유지보수**: 코드 구조 단순화

### 🎯 UI 유지 사항
- 메인 화면 레이아웃 동일
- 캔버스 조작법 동일 (클릭, 드래그, 키보드)
- 위성영상, 레이어 컨트롤 동일
- 파일 선택, 처리 과정 동일

### 🔄 변경 사항
- 학습 UI 단순화 (설정 항목 감소)
- 복잡한 배치 처리 제거
- 캐시 시스템 제거 (필요시 추후 추가)
- 성능 모니터링 단순화

## 🎯 핵심 아이디어

**"사용자가 포인트를 어떻게 편집하는지 학습"**

1. 휴리스틱이 자동 검출
2. 사용자가 수정 (추가/제거)
3. 그 패턴을 AI가 학습
4. 다음부터 AI가 사용자 스타일로 추천

## ⚡ 빠른 테스트

1. `python test_dqn_system.py` (시스템 확인)
2. `python main_window.py` (메인 실행)
3. 파일 선택 → 데이터 수집 시작 → 포인트 몇 개 편집
4. `python run_process2.py` (학습 실행)
5. 메인에서 AI 예측 테스트

## 🔧 문제 해결

### Import 오류
```bash
# 프로젝트 루트에서 실행
python main_window.py
```

### 학습 데이터 없음
1. 메인 프로그램에서 파일 열기
2. 데이터 수집 시작
3. 포인트 여러 개 편집 (최소 10개 이상)
4. 데이터 수집 종료

### 모델 로드 실패
1. 먼저 학습 실행
2. `src/learning/models/` 폴더에 .pth 파일 확인

## 🎉 완료!

이제 새로운 단순한 DQN 시스템을 사용할 수 있습니다!
